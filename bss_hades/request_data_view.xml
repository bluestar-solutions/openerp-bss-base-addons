<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record model="ir.ui.view" id="view_request_data_form">
			<field name="name">request.data.form</field>
			<field name="model">request.data</field>
			<field name="arch" type="xml">
				<form string="Request Data" version="7.0">
					<field name="id" invisible="1" />
					<field name="has_parameters" invisible="1" />
					<group>
						<group>
							<field name="request_type_id" />
						</group>
						<group />
					</group>
					<group string="Parameters">
						<label string="No parameters" attrs="{'invisible': [('has_parameters', '!=', False)]}" />
						<field name="parameter_value_ids" nolabel="1"
							widget="bss_parameter_list" label="name" attrs="{'invisible': [('has_parameters', '!=', True)]}">
							<tree>
								<field name="value" />
								<field name="data_type" invisible="1" />
                                   <field name="selection_version_id" invisible="1" />
                                   <field name="selection_values" invisible="1" />
                                   <field name="max_length" invisible="1" />
                                   <field name="required" invisible="1" />
                                   <field name="key" invisible="1" />
							</tree>
						</field>
					</group>
					<footer>
						<button name="execute" string="View" type="object" context="{'req_action':'view'}" class="oe_highlight" />
						<button name="execute" string="Export to CSV" type="object" context="{'req_action':'export_to_csv'}" />
						<button name="execute" string="Export to XLSX" type="object" context="{'req_action':'export_to_xlsx'}" />
					</footer>
				</form>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_request_data_qweb">
			<field name="name">request.data.form</field>
			<field name="model">request.data</field>
			<field name="priority" eval="32" />
			<field name="arch" type="xml">
				<form string="Request data" version="7.0" create="0" edit="0">
					<header>
						<button name="execute" string="Export to CSV" type="object" context="{'req_action':'export_to_csv'}" />
						<button name="execute" string="Export to XLSX" type="object" context="{'req_action':'export_to_xlsx'}" />
					</header>
					<field name="has_parameters" invisible="1" />
					<group>
						<group string="Parameters" attrs="{'invisible': ['|', ('id' ,'=', False), ('has_parameters', '=', False)]}">
							<field name="parameter_value_ids" nolabel="1" widget="bss_parameter_list" label="name">
								<tree>
									<field name="value" />
									<field name="data_type" invisible="1" />
									<field name="selection_version_id" invisible="1" />
									<field name="selection_values" invisible="1" />
									<field name="max_length" invisible="1" />
									<field name="required" invisible="1" />
									<field name="key" invisible="1" />
								</tree>
							</field>
						</group>
						<group />
					</group>
					<group>
						<field name="id" widget="bss_hades_request_view" nolabel="1" />
					</group>
				</form>
			</field>
		</record>
		
	</data>
</openerp>